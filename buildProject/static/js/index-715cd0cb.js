var e=Object.defineProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(l,o,a)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a,t=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(l)for(var n of l(t))a.call(t,n)&&s(e,n,t[n]);return e};import{t as n,v as r,a1 as d,U as c,P as i,S as u,H as f,a2 as p,a3 as v,a4 as y,j as b,x as m,a as g,a5 as C,T as E,a6 as k,w as _}from"./index-abf93fc7.js";import{d as h,c as w,e as x,z as O,A as B,n as I,C as M,Z as D,q as S,H as L,K as j,I as z,D as P,E as T,y as A,t as $,v as N,M as F,J as V,F as Z,O as q,P as H,L as R,T as J,ag as K}from"./vue-18c32ca4.js";const U=n({appendToBody:{type:Boolean,default:!1},beforeClose:{type:r(Function)},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeIcon:{type:r([String,Object]),default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number],validator:d},zIndex:{type:Number}}),G={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[c]:e=>"boolean"==typeof e},Q=(e,{emit:l},o)=>{const a=h(!1),s=h(!1),t=h(!1),n=h(e.zIndex||i.nextZIndex());let r,d;const m=w((()=>u(e.width)?`${e.width}px`:e.width)),g=w((()=>{const l={};return e.fullscreen||(e.top&&(l["--el-dialog-margin-top"]=e.top),e.width&&(l["--el-dialog-width"]=m.value)),l}));function C(){null==d||d(),null==r||r(),e.openDelay&&e.openDelay>0?({stop:r}=f((()=>I()),e.openDelay)):I()}function E(){null==r||r(),null==d||d(),e.closeDelay&&e.closeDelay>0?({stop:d}=f((()=>M()),e.closeDelay)):M()}function k(e){e||(s.value=!0,a.value=!1)}function _(){e.beforeClose?e.beforeClose(k):E()}function I(){b&&(a.value=!0)}function M(){a.value=!1}return e.lockScroll&&p(a),e.closeOnPressEscape&&v({handleClose:_},a),y(a),x((()=>e.modelValue),(r=>{r?(s.value=!1,C(),t.value=!0,l("open"),n.value=e.zIndex?n.value++:i.nextZIndex(),O((()=>{o.value&&(o.value.scrollTop=0)}))):a.value&&E()})),B((()=>{e.modelValue&&(a.value=!0,t.value=!0,C())})),{afterEnter:function(){l("opened")},afterLeave:function(){l("closed"),l(c,!1),e.destroyOnClose&&(t.value=!1)},beforeLeave:function(){l("close")},handleClose:_,onModalClick:function(){e.closeOnClickModal&&_()},close:E,doClose:M,closed:s,style:g,rendered:t,visible:a,zIndex:n}};var W=I({name:"ElDialog",components:t({ElOverlay:m,ElIcon:g},C),directives:{TrapFocus:E},props:U,emits:G,setup(e,l){const o=h(),a=Q(e,l,o),s=k(a.onModalClick);return t({dialogRef:o,overlayEvent:s},a)}});const X=["aria-label"],Y={class:"el-dialog__header"},ee={class:"el-dialog__title"},le={key:0,class:"el-dialog__body"},oe={key:1,class:"el-dialog__footer"};W.render=function(e,l,o,a,s,t){const n=M("el-icon"),r=M("el-overlay"),d=D("trap-focus");return S(),L(K,{to:"body",disabled:!e.appendToBody},[j(J,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:z((()=>[P(j(r,{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex},{default:z((()=>[A("div",{class:"el-overlay-dialog",onClick:l[2]||(l[2]=(...l)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...l)),onMousedown:l[3]||(l[3]=(...l)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...l)),onMouseup:l[4]||(l[4]=(...l)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...l))},[P((S(),$("div",{ref:"dialogRef",class:q(["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass]),"aria-modal":"true",role:"dialog","aria-label":e.title||"dialog",style:H(e.style),onClick:l[1]||(l[1]=R((()=>{}),["stop"]))},[A("div",Y,[N(e.$slots,"title",{},(()=>[A("span",ee,F(e.title),1)])),e.showClose?(S(),$("button",{key:0,"aria-label":"close",class:"el-dialog__headerbtn",type:"button",onClick:l[0]||(l[0]=(...l)=>e.handleClose&&e.handleClose(...l))},[j(n,{class:"el-dialog__close"},{default:z((()=>[(S(),L(V(e.closeIcon||"close")))])),_:1})])):Z("v-if",!0)]),e.rendered?(S(),$("div",le,[N(e.$slots,"default")])):Z("v-if",!0),e.$slots.footer?(S(),$("div",oe,[N(e.$slots,"footer")])):Z("v-if",!0)],14,X)),[[d]])],32)])),_:3},8,["mask","overlay-class","z-index"]),[[T,e.visible]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])},W.__file="packages/components/dialog/src/dialog.vue";const ae=_(W);export{ae as E,G as a,U as d,Q as u};
