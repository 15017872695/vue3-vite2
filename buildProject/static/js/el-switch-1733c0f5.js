import{t as e,v as a,i,U as t,K as c,S as l,V as n,W as s,a as o,X as d,Y as r,Z as v,u,F as h,w as f}from"./index-abf93fc7.js";import{f as p,n as y,c as b,d as k,e as w,A as g,z as m,ao as C,C as _,q as V,t as I,y as x,_ as S,O as T,H as B,I as E,J as P,F,M as K,G as N,K as j,P as D,L as O}from"./vue-18c32ca4.js";const z=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a([String,Object,Function]),default:""},inactiveIcon:{type:a([String,Object,Function]),default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:a(Function)},size:{type:String,validator:i}});var L=y({name:"ElSwitch",components:{ElIcon:o,Loading:d},props:z,emits:{[t]:e=>c(e)||p(e)||l(e),[n]:e=>c(e)||p(e)||l(e),[s]:e=>c(e)||p(e)||l(e)},setup(e,{emit:a}){const{formItem:i}=r(),l=v(b((()=>e.loading))),o=u(),d=k(!1!==e.modelValue),f=k(),p=k(),y="el-switch",_=b((()=>[y,`el-switch--${o.value}`,l.value?"is-disabled":"",I.value?"is-checked":""]));w((()=>e.modelValue),(()=>{d.value=!0})),w((()=>e.value),(()=>{d.value=!1}));const V=b((()=>d.value?e.modelValue:e.value)),I=b((()=>V.value===e.activeValue));[e.activeValue,e.inactiveValue].includes(V.value)||(a(t,e.inactiveValue),a(n,e.inactiveValue),a(s,e.inactiveValue)),w(I,(()=>{var a;f.value.checked=I.value,(e.activeColor||e.inactiveColor)&&S(),e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change"))}));const x=()=>{const i=I.value?e.inactiveValue:e.activeValue;a(t,i),a(n,i),a(s,i),m((()=>{f.value.checked=I.value}))},S=()=>{const a=I.value?e.activeColor:e.inactiveColor,i=p.value;e.borderColor?i.style.borderColor=e.borderColor:e.borderColor||(i.style.borderColor=a),i.style.backgroundColor=a,i.children[0].style.color=a};return g((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&S(),f.value.checked=I.value})),{input:f,core:p,switchDisabled:l,checked:I,switchKls:_,handleChange:x,switchValue:()=>{if(l.value)return;const{beforeChange:a}=e;if(!a)return void x();const i=a();[C(i),c(i)].some((e=>e))||h("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),C(i)?i.then((e=>{e&&x()})).catch((e=>{})):i&&x()},focus:()=>{var e,a;null==(a=null==(e=f.value)?void 0:e.focus)||a.call(e)}}}});const q=["aria-checked","aria-disabled"],A=["id","name","true-value","false-value","disabled"],G=["aria-hidden"],H={key:0,class:"el-switch__inner"},J=["aria-hidden"],M=["aria-hidden"],U={class:"el-switch__action"},W=["aria-hidden"];L.render=function(e,a,i,t,c,l){const n=_("el-icon"),s=_("loading");return V(),I("div",{class:T(e.switchKls),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:a[2]||(a[2]=O(((...a)=>e.switchValue&&e.switchValue(...a)),["prevent"]))},[x("input",{id:e.id,ref:"input",class:"el-switch__input",type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),onKeydown:a[1]||(a[1]=S(((...a)=>e.switchValue&&e.switchValue(...a)),["enter"]))},null,40,A),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?F("v-if",!0):(V(),I("span",{key:0,class:T(["el-switch__label","el-switch__label--left",e.checked?"":"is-active"])},[e.inactiveIcon?(V(),B(n,{key:0},{default:E((()=>[(V(),B(P(e.inactiveIcon)))])),_:1})):F("v-if",!0),!e.inactiveIcon&&e.inactiveText?(V(),I("span",{key:1,"aria-hidden":e.checked},K(e.inactiveText),9,G)):F("v-if",!0)],2)),x("span",{ref:"core",class:"el-switch__core",style:D({width:(e.width||40)+"px"})},[e.inlinePrompt?(V(),I("div",H,[e.activeIcon||e.inactiveIcon?(V(),I(N,{key:0},[e.activeIcon?(V(),B(n,{key:0,class:T(["is-icon",e.checked?"is-show":"is-hide"])},{default:E((()=>[(V(),B(P(e.activeIcon)))])),_:1},8,["class"])):F("v-if",!0),e.inactiveIcon?(V(),B(n,{key:1,class:T(["is-icon",e.checked?"is-hide":"is-show"])},{default:E((()=>[(V(),B(P(e.inactiveIcon)))])),_:1},8,["class"])):F("v-if",!0)],64)):e.activeText||e.inactiveIcon?(V(),I(N,{key:1},[e.activeText?(V(),I("span",{key:0,class:T(["is-text",e.checked?"is-show":"is-hide"]),"aria-hidden":!e.checked},K(e.activeText.substr(0,1)),11,J)):F("v-if",!0),e.inactiveText?(V(),I("span",{key:1,class:T(["is-text",e.checked?"is-hide":"is-show"]),"aria-hidden":e.checked},K(e.inactiveText.substr(0,1)),11,M)):F("v-if",!0)],64)):F("v-if",!0)])):F("v-if",!0),x("div",U,[e.loading?(V(),B(n,{key:0,class:"is-loading"},{default:E((()=>[j(s)])),_:1})):F("v-if",!0)])],4),e.inlinePrompt||!e.activeIcon&&!e.activeText?F("v-if",!0):(V(),I("span",{key:1,class:T(["el-switch__label","el-switch__label--right",e.checked?"is-active":""])},[e.activeIcon?(V(),B(n,{key:0},{default:E((()=>[(V(),B(P(e.activeIcon)))])),_:1})):F("v-if",!0),!e.activeIcon&&e.activeText?(V(),I("span",{key:1,"aria-hidden":!e.checked},K(e.activeText),9,W)):F("v-if",!0)],2))],10,q)},L.__file="packages/components/switch/src/switch.vue";const X=f(L);export{X as E};
