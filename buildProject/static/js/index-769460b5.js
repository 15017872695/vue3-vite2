import{t as e,v as a,I as t,F as l,a0 as s,aP as o,aQ as n,a as i,q as r,y as u,U as d,W as c,aR as p,w as b,h as v,b as f}from"./index-abf93fc7.js";import{a as m,b as h}from"./el-table-column-0e7ebaf9.js";import{e as y}from"./el-tooltip-84b8aa04.js";import{a as g,p as _,E as w,b as $}from"./el-breadcrumb-item-cad21164.js";import{_ as T}from"./BasicContainer-15ce4b62.js";import{_ as k}from"./plugin-vue_export-helper-46f75680.js";import{n as x,g as C,k as P,d as B,e as E,ay as N,z as S,q as R,t as j,O as F,P as A,N as V,c as z,A as K,B as q,U as L,p as I,v as M,G as O,ao as U,R as W,ar as D,D as G,E as H,F as Q,y as X,K as Y,I as J,u as Z,l as ee,M as ae,$ as te}from"./vue-18c32ca4.js";import"./echarts-fc39f456.js";import"./index-e204be5f.js";import"./resize-event-8257e20b.js";const le=Symbol("tabsRootContextKey"),se=e({tabs:{type:a(Array),default:()=>t([])}});var oe=x({name:"ElTabBar",props:se,setup(e){const a=C(),t=P(le);t||l("ElTabBar","must use with ElTabs");const o=B(),n=B(),i=()=>n.value=(()=>{let l=0,s=0;const o=["top","bottom"].includes(t.props.tabPosition)?"width":"height",n="width"===o?"x":"y";return e.tabs.every((t=>{var i,r,u,d;const c=null==(r=null==(i=a.parent)?void 0:i.refs)?void 0:r[`tab-${t.paneName}`];if(!c)return!1;if(!t.active)return!0;s=c[`client${N(o)}`];const p="x"===n?"left":"top";l=c.getBoundingClientRect()[p]-(null!=(d=null==(u=c.parentElement)?void 0:u.getBoundingClientRect()[p])?d:0);const b=window.getComputedStyle(c);return"width"===o&&(e.tabs.length>1&&(s-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)),l+=parseFloat(b.paddingLeft)),!1})),{[o]:`${s}px`,transform:`translate${N(n)}(${l}px)`}})();return E((()=>e.tabs),(async()=>{await S(),i()}),{immediate:!0}),s(o,(()=>i())),{bar$:o,rootTabs:t,barStyle:n,update:i}}});oe.render=function(e,a,t,l,s,o){return R(),j("div",{ref:"bar$",class:F(["el-tabs__active-bar",`is-${e.rootTabs.props.tabPosition}`]),style:A(e.barStyle)},null,6)},oe.__file="packages/components/tabs/src/tab-bar.vue";const ne=e({panes:{type:a(Array),default:()=>t([])},currentName:{type:String,default:""},editable:Boolean,onTabClick:{type:a(Function),default:V},onTabRemove:{type:a(Function),default:V},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean});var ie=x({name:"ElTabNav",props:ne,setup(e,{expose:a}){const t=o(),d=n(),c=P(le);c||l("ElTabNav","ElTabNav must be nested inside ElTabs");const p=B(!1),b=B(0),v=B(!1),f=B(!0),m=B(),h=B(),_=B(),w=z((()=>["top","bottom"].includes(c.props.tabPosition)?"width":"height")),$=z((()=>({transform:`translate${"width"===w.value?"X":"Y"}(-${b.value}px)`}))),T=()=>{if(!m.value)return;const e=m.value[`offset${N(w.value)}`],a=b.value;if(!a)return;const t=a>e?a-e:0;b.value=t},k=()=>{if(!m.value||!h.value)return;const e=h.value[`offset${N(w.value)}`],a=m.value[`offset${N(w.value)}`],t=b.value;if(e-t<=a)return;const l=e-t>2*a?t+a:e-a;b.value=l},x=()=>{const e=h.value;if(!(p.value&&_.value&&m.value&&e))return;const a=_.value.querySelector(".is-active");if(!a)return;const t=m.value,l=["top","bottom"].includes(c.props.tabPosition),s=a.getBoundingClientRect(),o=t.getBoundingClientRect(),n=l?e.offsetWidth-o.width:e.offsetHeight-o.height,i=b.value;let r=i;l?(s.left<o.left&&(r=i-(o.left-s.left)),s.right>o.right&&(r=i+s.right-o.right)):(s.top<o.top&&(r=i-(o.top-s.top)),s.bottom>o.bottom&&(r=i+(s.bottom-o.bottom))),r=Math.max(r,0),b.value=Math.min(r,n)},C=()=>{if(!h.value||!m.value)return;const e=h.value[`offset${N(w.value)}`],a=m.value[`offset${N(w.value)}`],t=b.value;if(a<e){const t=b.value;p.value=p.value||{},p.value.prev=t,p.value.next=t+a<e,e-t<a&&(b.value=e-a)}else p.value=!1,t>0&&(b.value=0)},S=e=>{const a=e.code,{up:t,down:l,left:s,right:o}=u;if(![t,l,s,o].includes(a))return;const n=Array.from(e.currentTarget.querySelectorAll("[role=tab]")),i=n.indexOf(e.target);let r;r=a===s||a===t?0===i?n.length-1:i-1:i<n.length-1?i+1:0,n[r].focus(),n[r].click(),R()},R=()=>{f.value&&(v.value=!0)},j=()=>v.value=!1;return E(t,(e=>{"hidden"===e?f.value=!1:"visible"===e&&setTimeout((()=>f.value=!0),50)})),E(d,(e=>{e?setTimeout((()=>f.value=!0),50):f.value=!1})),s(_,C),K((()=>setTimeout((()=>x()),0))),q((()=>C())),a({scrollToActiveTab:x,removeFocus:j}),()=>{const a=p.value?[L("span",{class:["el-tabs__nav-prev",p.value.prev?"":"is-disabled"],onClick:T},[L(i,{},{default:()=>L(g)})]),L("span",{class:["el-tabs__nav-next",p.value.next?"":"is-disabled"],onClick:k},[L(i,{},{default:()=>L(y)})])]:null,t=e.panes.map(((a,t)=>{var l,s;const o=a.props.name||a.index||`${t}`,n=a.isClosable||e.editable;a.index=`${t}`;const d=n?L(i,{class:"is-icon-close",onClick:t=>e.onTabRemove(a,t)},{default:()=>L(r)}):null,p=(null==(s=(l=a.instance.slots).label)?void 0:s.call(l))||a.props.label,b=a.active?0:-1;return L("div",{class:{"el-tabs__item":!0,[`is-${c.props.tabPosition}`]:!0,"is-active":a.active,"is-disabled":a.props.disabled,"is-closable":n,"is-focus":v},id:`tab-${o}`,key:`tab-${o}`,"aria-controls":`pane-${o}`,role:"tab","aria-selected":a.active,ref:`tab-${o}`,tabindex:b,onFocus:()=>R(),onBlur:()=>j(),onClick:t=>{j(),e.onTabClick(a,o,t)},onKeydown:t=>{!n||t.code!==u.delete&&t.code!==u.backspace||e.onTabRemove(a,t)}},[p,d])}));return L("div",{ref:_,class:["el-tabs__nav-wrap",p.value?"is-scrollable":"",`is-${c.props.tabPosition}`]},[a,L("div",{class:"el-tabs__nav-scroll",ref:m},[L("div",{class:["el-tabs__nav",`is-${c.props.tabPosition}`,e.stretch&&["top","bottom"].includes(c.props.tabPosition)?"is-stretch":""],ref:h,style:$.value,role:"tablist",onKeydown:S},[e.type?null:L(oe,{tabs:[...e.panes]}),t])])])}}});const re=e({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:String,default:""},closable:Boolean,addable:Boolean,modelValue:{type:String,default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:a(Function),default:()=>!0},stretch:Boolean}),ue=(e,a=[])=>{const t=e.children||[];return Array.from(t).forEach((e=>{let t=e.type;t=t.name||t,"ElTabPane"===t&&e.component?a.push(e.component):t!==O&&"template"!==t||ue(e,a)})),a};var de=x({name:"ElTabs",props:re,emits:{[d]:e=>"string"==typeof e,[c]:e=>"string"==typeof e,"tab-click":(e,a)=>a instanceof Event,edit:(e,a)=>"remove"===a||"add"===a,"tab-remove":e=>"string"==typeof e,"tab-add":()=>!0},setup(e,{emit:a,slots:t,expose:l}){const s=C(),o=B(),n=B([]),r=B(e.modelValue||e.activeName||"0"),p={},b=(e=!1)=>{if(t.default){const a=s.subTree.children,t=Array.from(a).find((({props:e})=>"el-tabs__content"===(null==e?void 0:e.class)));if(!t)return;const l=ue(t).map((e=>p[e.uid])),o=!(l.length===n.value.length&&l.every(((e,a)=>e.uid===n.value[a].uid)));(e||o)&&(n.value=l)}else 0!==n.value.length&&(n.value=[])},v=e=>{r.value=e,a(c,e),a(d,e)},f=a=>{var t;if(r.value===a)return;const l=null==(t=e.beforeLeave)?void 0:t.call(e,a,r.value);U(l)?l.then((()=>{var e,t;v(a),null==(t=null==(e=o.value)?void 0:e.removeFocus)||t.call(e)}),V):!1!==l&&v(a)},m=(e,t,l)=>{e.props.disabled||(f(t),a("tab-click",e,l))},h=(e,t)=>{e.props.disabled||(t.stopPropagation(),a("edit",e.props.name,"remove"),a("tab-remove",e.props.name))},y=()=>{a("edit",null,"add"),a("tab-add")};return q((()=>b())),K((()=>b())),E((()=>e.activeName),(e=>f(e))),E((()=>e.modelValue),(e=>f(e))),E(r,(async()=>{var e,a;b(!0),await S(),await(null==(e=o.value)?void 0:e.$nextTick()),null==(a=o.value)||a.scrollToActiveTab()})),I(le,{props:e,currentName:r,updatePaneState:e=>p[e.uid]=e}),l({currentName:r}),()=>{const a=e.editable||e.addable?L("span",{class:"el-tabs__new-tab",tabindex:"0",onClick:y,onKeydown:e=>{e.code===u.enter&&y()}},[L(i,{class:"is-icon-plus"},{default:()=>L(_)})]):null,l=L("div",{class:["el-tabs__header",`is-${e.tabPosition}`]},[a,L(ie,{currentName:r.value,editable:e.editable,type:e.type,panes:n.value,stretch:e.stretch,ref:o,onTabClick:m,onTabRemove:h})]),s=L("div",{class:"el-tabs__content"},[M(t,"default")]);return L("div",{class:{"el-tabs":!0,"el-tabs--card":"card"===e.type,[`el-tabs--${e.tabPosition}`]:!0,"el-tabs--border-card":"border-card"===e.type}},"bottom"!==e.tabPosition?[l,s]:[s,l])}}});const ce=e({label:{type:String,default:""},name:{type:String,default:""},closable:Boolean,disabled:Boolean,lazy:Boolean});var pe=x({name:"ElTabPane",props:ce,setup(e){const a=C(),t=P(le);t||l("ElTabPane","must use with ElTabs");const s=B(),o=B(!1),n=z((()=>e.closable||t.props.closable)),i=p((()=>t.currentName.value===(e.name||s.value))),r=z((()=>e.name||s.value)),u=p((()=>!e.lazy||o.value||i.value));return E(i,(e=>{e&&(o.value=!0)})),t.updatePaneState(W({uid:a.uid,instance:D(a),props:e,paneName:r,active:i,index:s,isClosable:n})),{active:i,paneName:r,shouldBeRender:u}}});const be=["id","aria-hidden","aria-labelledby"];pe.render=function(e,a,t,l,s,o){return e.shouldBeRender?G((R(),j("div",{key:0,id:`pane-${e.paneName}`,class:"el-tab-pane",role:"tabpanel","aria-hidden":!e.active,"aria-labelledby":`tab-${e.paneName}`},[M(e.$slots,"default")],8,be)),[[H,e.active]]):Q("v-if",!0)},pe.__file="packages/components/tabs/src/tab-pane.vue";const ve=b(de,{TabPane:pe}),fe=v(pe);const me={id:"tabs"},he={class:"crumbs"},ye=te("tab选项卡"),ge={class:"message-title"},_e=te("标为已读"),we={class:"handle-row"},$e=te("全部标为已读"),Te={class:"message-title"},ke=te("删除"),xe={class:"handle-row"},Ce=te("删除全部"),Pe={class:"message-title"},Be=te("还原"),Ee={class:"handle-row"},Ne=te("清空回收站"),Se=x({name:"tabs"});var Re=k(Object.assign(Se,{setup(e){let a=B("first"),t=W([{date:"2021-6-3 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"},{date:"2021-6-3 21:00:00",title:"今晚12点整发大红包，先到先得"}]),l=W([{date:"2021-6-3 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}]),s=W([{date:"2021-6-3 20:00:00",title:"【系统通知】该系统将于今晚凌晨2点到5点进行升级维护"}]);return z((()=>t.length)),(e,o)=>{const n=w,i=$,r=m,u=f,d=h,c=fe,p=ve;return R(),j("div",me,[X("div",he,[Y(i,{separator:"/"},{default:J((()=>[Y(n,null,{default:J((()=>[ye])),_:1})])),_:1})]),Y(Z(T),null,{default:J((()=>[Y(p,{modelValue:Z(a),"onUpdate:modelValue":o[0]||(o[0]=e=>ee(a)?a.value=e:a=e)},{default:J((()=>[Y(c,{label:`未读消息(${Z(t).length})`,name:"first"},{default:J((()=>[Y(d,{data:Z(t),"show-header":!1,style:{width:"100%"}},{default:J((()=>[Y(r,null,{default:J((e=>[X("span",ge,ae(e.row.title),1)])),_:1}),Y(r,{prop:"date",width:"180"}),Y(r,{width:"120"},{default:J((e=>[Y(u,{size:"small",onClick:a=>(e=>{const a=t.splice(e,1);l.unshift(...a)})(e.$index)},{default:J((()=>[_e])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),X("div",we,[Y(u,{type:"primary"},{default:J((()=>[$e])),_:1})])])),_:1},8,["label"]),Y(c,{label:`已读消息(${Z(l).length})`,name:"second"},{default:J((()=>["second"===Z(a)?(R(),j(O,{key:0},[Y(d,{data:Z(l),"show-header":!1,style:{width:"100%"}},{default:J((()=>[Y(r,null,{default:J((e=>[X("span",Te,ae(e.row.title),1)])),_:1}),Y(r,{prop:"date",width:"150"}),Y(r,{width:"120"},{default:J((e=>[Y(u,{type:"danger",onClick:a=>(e=>{const a=l.splice(e,1);s.unshift(...a)})(e.$index)},{default:J((()=>[ke])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),X("div",xe,[Y(u,{type:"danger"},{default:J((()=>[Ce])),_:1})])],64)):Q("",!0)])),_:1},8,["label"]),Y(c,{label:`回收站(${Z(s).length})`,name:"third"},{default:J((()=>["third"===Z(a)?(R(),j(O,{key:0},[Y(d,{data:Z(s),"show-header":!1,style:{width:"100%"}},{default:J((()=>[Y(r,null,{default:J((e=>[X("span",Pe,ae(e.row.title),1)])),_:1}),Y(r,{prop:"date",width:"150"}),Y(r,{width:"120"},{default:J((e=>[Y(u,{onClick:a=>(e=>{const a=s.splice(e,1);l.unshift(...a)})(e.$index)},{default:J((()=>[Be])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),X("div",Ee,[Y(u,{type:"danger"},{default:J((()=>[Ne])),_:1})])],64)):Q("",!0)])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1})])}}}),[["__scopeId","data-v-99508dc4"]]);export{Re as default};
